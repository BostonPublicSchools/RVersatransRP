<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Versatrans Routing and Planning databases can be queried directly
    via SQL. This is useful, but often the data returned from such queries needs
    to be extensively reformatted, summarized, or stored in different formats
    for use by other tools. For example, it is sometimes useful to store RP 
    query results as google sheets for use in constructing dashboards. The 
    RVersatransRP package makes it easier to carry out these data 
    post-processing and storage tasks.">
<title>Retrieve and format data from a Versatrans Routing and Planning Database. • RVersatransRP</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Retrieve and format data from a Versatrans Routing and Planning Database.">
<meta property="og:description" content="Versatrans Routing and Planning databases can be queried directly
    via SQL. This is useful, but often the data returned from such queries needs
    to be extensively reformatted, summarized, or stored in different formats
    for use by other tools. For example, it is sometimes useful to store RP 
    query results as google sheets for use in constructing dashboards. The 
    RVersatransRP package makes it easier to carry out these data 
    post-processing and storage tasks.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">RVersatransRP</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rversatransrp">RVersatransRP<a class="anchor" aria-label="anchor" href="#rversatransrp"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of RVersatransRP is to provide easy to use functions for querying and formatting data from a Versatrans Routing &amp; Planning database.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>RVersatransRP is currently available from our <a href="https://drive.google.com/drive/folders/1e_C8c5epf8IqcKyP4g9TzaFm1Vnlr8wM?usp=sharing" class="external-link">shared Google Drive folder</a>. I don’t think there is any easy way to install or update directly from there, so you will need to download/sync this shared drive to your local disk and install from there. Once you have downloaded/synced the drive directory you can install this package with</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_local.html" class="external-link">install_local</a></span><span class="op">(</span><span class="st">"path/to/directory"</span><span class="op">)</span></span></code></pre></div>
<p>Eventually we will move this package to Github so you can install the development version of RVersatransRP from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">".../RVersatransRP"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>This is a basic example which shows you how to retrieve the student monitor file from the Versatrans RP database:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RVersatransRP</span><span class="op">)</span></span>
<span></span>
<span><span class="va">student_monitor</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rp_report_student_monitor.html">rp_report_student_monitor</a></span><span class="op">(</span>database <span class="op">=</span> <span class="st">"Sandbox"</span>, format <span class="op">=</span> <span class="st">"long"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## example pickup data:</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>  <span class="va">student_monitor</span>,</span>
<span>  <span class="op">-</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"ID"</span><span class="op">)</span>, <span class="op">-</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"Last"</span><span class="op">)</span>, <span class="op">-</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"First"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 207,702</span></span>
<span><span class="co">#&gt; Columns: 10</span></span>
<span><span class="co">#&gt; $ `Program Description`  &lt;chr&gt; "DR DOOR FULL DAY", "DR DOOR FULL DAY", "DR DOO…</span></span>
<span><span class="co">#&gt; $ `INFO WC`              &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ `INFO NEED MONITOR`    &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span></span>
<span><span class="co">#&gt; $ `School Abbrev`        &lt;chr&gt; "0335", "0335", "0420", "0420", "0420", "0420",…</span></span>
<span><span class="co">#&gt; $ `School Anchor Abbrev` &lt;chr&gt; "0335", "0335", "0420", "0420", "0420", "0420",…</span></span>
<span><span class="co">#&gt; $ `School Name`          &lt;chr&gt; "Farr Acad", "Farr Acad", "LANDMARK HS", "LANDM…</span></span>
<span><span class="co">#&gt; $ Day                    &lt;chr&gt; NA, NA, "M", "M", "T", "T", "W", "W", "H", "H",…</span></span>
<span><span class="co">#&gt; $ Shift                  &lt;chr&gt; "Pickup", "Dropoff", "Pickup", "Dropoff", "Pick…</span></span>
<span><span class="co">#&gt; $ Route                  &lt;chr&gt; NA, NA, "04201451", "04200451", "04201451", "04…</span></span>
<span><span class="co">#&gt; $ Bus                    &lt;chr&gt; NA, NA, "7D036", "7D036", "7D036", "7D036", "7D…</span></span></code></pre></div>
<p>Use <code>format = wide</code> for full compatibility with the monitor student file produced by RP export:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">RVersatransRP</span><span class="op">)</span></span>
<span></span>
<span><span class="va">student_monitor</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/rp_report_student_monitor.html">rp_report_student_monitor</a></span><span class="op">(</span>database <span class="op">=</span> <span class="st">"Sandbox"</span>, format <span class="op">=</span> <span class="st">"wide"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## example pickup data:</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>  <span class="va">student_monitor</span>,</span>
<span>  <span class="op">-</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"ID"</span><span class="op">)</span>, <span class="op">-</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"Last"</span><span class="op">)</span>, <span class="op">-</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"First"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 21,421</span></span>
<span><span class="co">#&gt; Columns: 26</span></span>
<span><span class="co">#&gt; $ `Program Description`  &lt;chr&gt; "DR DOOR FULL DAY", "DR DOOR FULL DAY", "DR DOO…</span></span>
<span><span class="co">#&gt; $ `INFO WC`              &lt;chr&gt; NA, NA, NA, NA, NA, NA, "WC", NA, NA, NA, NA, N…</span></span>
<span><span class="co">#&gt; $ `INFO NEED MONITOR`    &lt;chr&gt; NA, NA, "M", "M", NA, NA, "1", NA, "M", NA, NA,…</span></span>
<span><span class="co">#&gt; $ `School Abbrev`        &lt;chr&gt; "0335", "0420", NA, "0641", "0517", "0292", "06…</span></span>
<span><span class="co">#&gt; $ `School Anchor Abbrev` &lt;chr&gt; "0335", "0420", NA, "0641", "0517", "0292", "06…</span></span>
<span><span class="co">#&gt; $ `School Name`          &lt;chr&gt; "Farr Acad", "LANDMARK HS", "CENTRAL MA PREP CO…</span></span>
<span><span class="co">#&gt; $ `Mon. Pickup Bus`      &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Mon. Pickup Route`    &lt;chr&gt; NA, "04201451", NA, "06411451", NA, NA, "065925…</span></span>
<span><span class="co">#&gt; $ `Mon. Dropoff Bus`     &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Mon. Dropoff Route`   &lt;chr&gt; NA, "04200451", NA, "06419451", NA, NA, "065995…</span></span>
<span><span class="co">#&gt; $ `Tue. Pickup Bus`      &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Tue. Pickup Route`    &lt;chr&gt; NA, "04201451", NA, "06411451", NA, NA, "065925…</span></span>
<span><span class="co">#&gt; $ `Tue. Dropoff Bus`     &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Tue. Dropoff Route`   &lt;chr&gt; NA, "04200451", NA, "06419451", NA, NA, "065995…</span></span>
<span><span class="co">#&gt; $ `Wed. Pickup Bus`      &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Wed. Pickup Route`    &lt;chr&gt; NA, "04201451", NA, "06411451", NA, NA, "065925…</span></span>
<span><span class="co">#&gt; $ `Wed. Dropoff Bus`     &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Wed. Dropoff Route`   &lt;chr&gt; NA, "04200451", NA, "06419451", NA, NA, "065995…</span></span>
<span><span class="co">#&gt; $ `Thu. Pickup Bus`      &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Thu. Pickup Route`    &lt;chr&gt; NA, "04201451", NA, "06411451", NA, NA, "065925…</span></span>
<span><span class="co">#&gt; $ `Thu. Dropoff Bus`     &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Thu. Dropoff Route`   &lt;chr&gt; NA, "04200451", NA, "06419451", NA, NA, "065975…</span></span>
<span><span class="co">#&gt; $ `Fri. Pickup Bus`      &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Fri. Pickup Route`    &lt;chr&gt; NA, "04201451", NA, "06411451", NA, NA, "065925…</span></span>
<span><span class="co">#&gt; $ `Fri. Dropoff Bus`     &lt;chr&gt; NA, "7D036", NA, "MS012", NA, NA, "WB960", "7D0…</span></span>
<span><span class="co">#&gt; $ `Fri. Dropoff Route`   &lt;chr&gt; NA, "04200451", NA, "06419451", NA, NA, "065995…</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>What license is it under?</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing RVersatransRP</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ista Zahn <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Ista Zahn.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
